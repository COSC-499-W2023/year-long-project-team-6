{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport \"../component/CSS/sidebar_style.css\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction groupPost() {\n  _s();\n  const [userId, setUserId] = useState('');\n  const {\n    groupId,\n    senderName\n  } = useParams();\n  const [senderId, setSenderId] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    const sessionUser = sessionStorage.getItem('user');\n    if (!sessionUser) {\n      navigate('/login');\n    } else {\n      const user = JSON.parse(sessionUser);\n      setUserId(user.userid);\n      console.log(\"User Id: \" + user.userid);\n      fetch(`http://localhost:5001/get-sender-id/${senderName}`).then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.json();\n      }).then(data => {\n        setSenderId(data);\n        console.log(\"Data: \" + data);\n      }).catch(error => {\n        console.error('Error fetching posts:', error);\n      });\n    }\n  }, []);\n\n  // useEffect(() => {\n  //     if (userId) {\n  //         fetch(`http://localhost:5001/get-posts/${senderId}`)\n  //             .then(response => {\n  //                 if (!response.ok) {\n  //                     throw new Error(`HTTP error! status: ${response.status}`);\n  //                 }\n  //                 return response.json();\n  //             })\n  //             .then(data => {\n  //                 console.log(userId);\n  //                 console.log('Fetched data:', data);\n  //                 setPosts(data);\n  //             })\n  //             .catch(error => {\n  //                 console.error('Error fetching posts:', error);\n  //             });\n  //     }\n  // }, [senderId]);\n\n  const handleView = async videoId => {\n    navigate(`/Video/${videoId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n_s(groupPost, \"hLGzUK9vxu0APwMED9kAFRzFmoY=\", false, function () {\n  return [useParams, useNavigate];\n});\nexport default groupPost;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","Fragment","_Fragment","jsxDEV","_jsxDEV","groupPost","_s","userId","setUserId","groupId","senderName","senderId","setSenderId","navigate","sessionUser","sessionStorage","getItem","user","JSON","parse","userid","console","log","fetch","then","response","ok","Error","status","json","data","catch","error","handleView","videoId"],"sources":["C:/Users/17321/OneDrive/桌面/year-long-project-team-6/app/frontend/src/pages/groupPost.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nimport \"../component/CSS/sidebar_style.css\";\r\n\r\nfunction groupPost() {\r\n    const [userId, setUserId] = useState('');\r\n    const { groupId, senderName } = useParams();\r\n    const [senderId, setSenderId] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n\r\n    useEffect(() => {\r\n        const sessionUser = sessionStorage.getItem('user');\r\n        if (!sessionUser) {\r\n            navigate('/login');\r\n        } else {\r\n            const user = JSON.parse(sessionUser);\r\n            setUserId(user.userid);\r\n            console.log(\"User Id: \" + user.userid);\r\n            fetch(`http://localhost:5001/get-sender-id/${senderName}`)\r\n                .then(response => {\r\n                    if (!response.ok) {\r\n                        throw new Error(`HTTP error! status: ${response.status}`);\r\n                    }\r\n                    return response.json();\r\n                })\r\n                .then(data => {\r\n                    setSenderId(data);\r\n                    console.log(\"Data: \" + data);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching posts:', error);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    // useEffect(() => {\r\n    //     if (userId) {\r\n    //         fetch(`http://localhost:5001/get-posts/${senderId}`)\r\n    //             .then(response => {\r\n    //                 if (!response.ok) {\r\n    //                     throw new Error(`HTTP error! status: ${response.status}`);\r\n    //                 }\r\n    //                 return response.json();\r\n    //             })\r\n    //             .then(data => {\r\n    //                 console.log(userId);\r\n    //                 console.log('Fetched data:', data);\r\n    //                 setPosts(data);\r\n    //             })\r\n    //             .catch(error => {\r\n    //                 console.error('Error fetching posts:', error);\r\n    //             });\r\n    //     }\r\n    // }, [senderId]);\r\n\r\n    const handleView = async (videoId) => {\r\n        navigate(`/Video/${videoId}`)\r\n    };\r\n\r\n    return (\r\n        <>\r\n        </>\r\n    );\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default groupPost;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AAEzD,OAAO,oCAAoC;AAAC,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE5C,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACjB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM;IAAEY,OAAO;IAAEC;EAAW,CAAC,GAAGV,SAAS,CAAC,CAAC;EAC3C,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMgB,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAG9BD,SAAS,CAAC,MAAM;IACZ,MAAMgB,WAAW,GAAGC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;IAClD,IAAI,CAACF,WAAW,EAAE;MACdD,QAAQ,CAAC,QAAQ,CAAC;IACtB,CAAC,MAAM;MACH,MAAMI,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,WAAW,CAAC;MACpCN,SAAS,CAACS,IAAI,CAACG,MAAM,CAAC;MACtBC,OAAO,CAACC,GAAG,CAAC,WAAW,GAAGL,IAAI,CAACG,MAAM,CAAC;MACtCG,KAAK,CAAE,uCAAsCb,UAAW,EAAC,CAAC,CACrDc,IAAI,CAACC,QAAQ,IAAI;QACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;UACd,MAAM,IAAIC,KAAK,CAAE,uBAAsBF,QAAQ,CAACG,MAAO,EAAC,CAAC;QAC7D;QACA,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAC1B,CAAC,CAAC,CACDL,IAAI,CAACM,IAAI,IAAI;QACVlB,WAAW,CAACkB,IAAI,CAAC;QACjBT,OAAO,CAACC,GAAG,CAAC,QAAQ,GAAGQ,IAAI,CAAC;MAChC,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACZX,OAAO,CAACW,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MACjD,CAAC,CAAC;IACV;EACJ,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMC,UAAU,GAAG,MAAOC,OAAO,IAAK;IAClCrB,QAAQ,CAAE,UAASqB,OAAQ,EAAC,CAAC;EACjC,CAAC;EAED,oBACI9B,OAAA,CAAAF,SAAA,mBACE,CAAC;AAMX;AAACI,EAAA,CAhEQD,SAAS;EAAA,QAEkBL,SAAS,EAExBD,WAAW;AAAA;AA8DhC,eAAeM,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}