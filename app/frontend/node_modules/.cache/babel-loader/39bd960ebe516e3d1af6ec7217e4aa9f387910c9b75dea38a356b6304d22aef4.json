{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport \"../component/CSS/sidebar_style.css\";\nfunction groupPost() {\n  _s();\n  const [userId, setUserId] = useState('');\n  const {\n    groupId,\n    senderName\n  } = useParams();\n  const [senderId, setSenderId] = useState('');\n  useEffect(() => {\n    const sessionUser = sessionStorage.getItem('user');\n    if (!sessionUser) {\n      navigate('/login');\n    } else {\n      const user = JSON.parse(sessionUser);\n      setUserId(user.userid);\n      console.log(\"User Id: \" + user.userid);\n      fetch(`http://localhost:5001/get-sender-id/${senderName}`).then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.json();\n      }).then(data => {\n        setSenderId(data);\n        console.log(\"Data: \" + data);\n      }).catch(error => {\n        console.error('Error fetching posts:', error);\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (userId) {\n      fetch(`http://localhost:5001/get-posts/${senderId}`).then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.json();\n      }).then(data => {\n        console.log(userId);\n        console.log('Fetched data:', data);\n        setPosts(data);\n      }).catch(error => {\n        console.error('Error fetching posts:', error);\n      });\n    }\n  }, [senderId]);\n  const handleView = async videoId => {\n    navigate(`/Video/${videoId}`);\n  };\n}\n_s(groupPost, \"iYWBLoAP5sdwbg5IzsAKQYynb3Q=\", true);\nexport default groupPost;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","groupPost","_s","userId","setUserId","groupId","senderName","useParams","senderId","setSenderId","sessionUser","sessionStorage","getItem","navigate","user","JSON","parse","userid","console","log","fetch","then","response","ok","Error","status","json","data","catch","error","setPosts","handleView","videoId"],"sources":["C:/Users/17321/OneDrive/桌面/year-long-project-team-6/app/frontend/src/pages/groupPost.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport \"../component/CSS/sidebar_style.css\";\r\n\r\nfunction groupPost() {\r\n    const [userId, setUserId] = useState('');\r\n    const { groupId, senderName } = useParams();\r\n    const [senderId, setSenderId] = useState('');\r\n\r\n\r\n    useEffect(() => {\r\n        const sessionUser = sessionStorage.getItem('user');\r\n        if (!sessionUser) {\r\n            navigate('/login');\r\n        } else {\r\n            const user = JSON.parse(sessionUser);\r\n            setUserId(user.userid);\r\n            console.log(\"User Id: \" + user.userid);\r\n            fetch(`http://localhost:5001/get-sender-id/${senderName}`)\r\n                .then(response => {\r\n                    if (!response.ok) {\r\n                        throw new Error(`HTTP error! status: ${response.status}`);\r\n                    }\r\n                    return response.json();\r\n                })\r\n                .then(data => {\r\n                    setSenderId(data);\r\n                    console.log(\"Data: \" + data);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching posts:', error);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (userId) {\r\n            fetch(`http://localhost:5001/get-posts/${senderId}`)\r\n                .then(response => {\r\n                    if (!response.ok) {\r\n                        throw new Error(`HTTP error! status: ${response.status}`);\r\n                    }\r\n                    return response.json();\r\n                })\r\n                .then(data => {\r\n                    console.log(userId);\r\n                    console.log('Fetched data:', data);\r\n                    setPosts(data);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching posts:', error);\r\n                });\r\n        }\r\n    }, [senderId]);\r\n\r\n    const handleView = async (videoId) => {\r\n        navigate(`/Video/${videoId}`)\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default groupPost;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,oCAAoC;AAE3C,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACjB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM;IAAEO,OAAO;IAAEC;EAAW,CAAC,GAAGC,SAAS,CAAC,CAAC;EAC3C,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAG5CC,SAAS,CAAC,MAAM;IACZ,MAAMW,WAAW,GAAGC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;IAClD,IAAI,CAACF,WAAW,EAAE;MACdG,QAAQ,CAAC,QAAQ,CAAC;IACtB,CAAC,MAAM;MACH,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACN,WAAW,CAAC;MACpCN,SAAS,CAACU,IAAI,CAACG,MAAM,CAAC;MACtBC,OAAO,CAACC,GAAG,CAAC,WAAW,GAAGL,IAAI,CAACG,MAAM,CAAC;MACtCG,KAAK,CAAE,uCAAsCd,UAAW,EAAC,CAAC,CACrDe,IAAI,CAACC,QAAQ,IAAI;QACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;UACd,MAAM,IAAIC,KAAK,CAAE,uBAAsBF,QAAQ,CAACG,MAAO,EAAC,CAAC;QAC7D;QACA,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAC1B,CAAC,CAAC,CACDL,IAAI,CAACM,IAAI,IAAI;QACVlB,WAAW,CAACkB,IAAI,CAAC;QACjBT,OAAO,CAACC,GAAG,CAAC,QAAQ,GAAGQ,IAAI,CAAC;MAChC,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACZX,OAAO,CAACW,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MACjD,CAAC,CAAC;IACV;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN9B,SAAS,CAAC,MAAM;IACZ,IAAII,MAAM,EAAE;MACRiB,KAAK,CAAE,mCAAkCZ,QAAS,EAAC,CAAC,CAC/Ca,IAAI,CAACC,QAAQ,IAAI;QACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;UACd,MAAM,IAAIC,KAAK,CAAE,uBAAsBF,QAAQ,CAACG,MAAO,EAAC,CAAC;QAC7D;QACA,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAC1B,CAAC,CAAC,CACDL,IAAI,CAACM,IAAI,IAAI;QACVT,OAAO,CAACC,GAAG,CAAChB,MAAM,CAAC;QACnBe,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEQ,IAAI,CAAC;QAClCG,QAAQ,CAACH,IAAI,CAAC;MAClB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACZX,OAAO,CAACW,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MACjD,CAAC,CAAC;IACV;EACJ,CAAC,EAAE,CAACrB,QAAQ,CAAC,CAAC;EAEd,MAAMuB,UAAU,GAAG,MAAOC,OAAO,IAAK;IAClCnB,QAAQ,CAAE,UAASmB,OAAQ,EAAC,CAAC;EACjC,CAAC;AAOL;AAAC9B,EAAA,CA5DQD,SAAS;AA8DlB,eAAeA,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}